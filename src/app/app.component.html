<main>
  <div class="container">
    <h1 class="text-3xl text-center text-green-600">Hello Angular Dev!</h1>
    <!-- Form statr -->
    <div class="bg-white border rounded-lg shadow relative m-10">
      <div class="flex items-start justify-between p-5 border-b rounded-t">
        <h3 class="text-xl font-semibold">Student Registration</h3>
      </div>

      <form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
        <div>
        <div class="p-6 space-y-6">
        <div class="grid grid-cols-6 gap-6">
            <div class="col-span-6 sm:col-span-3">
              <label
                for="student-name"
                class="text-sm font-medium text-gray-900 block mb-2"
                >Name</label
              >
              <input
                type="text"
                name="name"
                id="name"
                class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:outline-none block w-full p-2.5"
                placeholder="Jhon Doe"
                required
                formControlName="name"
              />
            </div>
            <div class="col-span-6 sm:col-span-3">
              <label
                for="email"
                class="text-sm font-medium text-gray-900 block mb-2"
                >Email</label
              >
              <input
                type="email"
                name="email"
                id="email"
                class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus: outline-none block w-full p-2.5"
                placeholder="example@mail.com"
                required
                formControlName="email"
              />
            </div>
            <div class="col-span-6 sm:col-span-3">
              <label
                for="password"
                class="text-sm font-medium text-gray-900 block mb-2"
                >Password</label
              >
              <input
                type="password"
                name="password"
                id="password"
                class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:outline-none block w-full p-2.5"
                required
                formControlName="password"
              />
            </div>

            <div class="col-span-6 sm:col-span-3">
              <label
                for="confirm_password"
                class="text-sm font-medium text-gray-900 block mb-2"
                [ngClass]="{ 'text-red-500': studentForm.hasError('mismatch') }">
                Confirm Password
              </label>
              <input
              type="password"
              name="confirm_password"
              id="confirm_password"
              class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:outline-none block w-full p-2.5
             {{ studentForm.hasError('mismatch') ? 'border-red-500' : '' }}"
              required
              formControlName="confirm_password"
            />
            </div>
            
          </div>
        </div>

        <div class="p-6 border-t border-gray-200 rounded-b">
          <button
            class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
            type="submit"
             [disabled]="isSubmitDisabled()"
          >
            Save all
          </button>
        </div>
      </div>
      </form>
    </div>
    <!-- Form end -->

    <!-- Table start -->
      <table class="min-w-full divide-y m-10">
      <thead>
        <tr>
          <th
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Name
          </th>
          <th
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Email
          </th>
          
          <th
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
          >
            Action
          </th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        @for (item of students; track $index) {
            <tr>
          <td class="px-6 py-4 whitespace-nowrap">{{item.name}}</td>
          <td class="px-6 py-4 whitespace-nowrap">{{item.email}}</td>
          <td class="px-6 py-4 whitespace-nowrap">
            <button
              class="px-4 py-2 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue active:bg-blue-600 transition duration-150 ease-in-out"
              (click)="editStudent(item)"
            >
              Edit
            </button>
            <button
              class="ml-2 px-4 py-2 font-medium text-white bg-red-600 rounded-md hover:bg-red-500 focus:outline-none focus:shadow-outline-red active:bg-red-600 transition duration-150 ease-in-out"
              (click)="delete(item._id)"
              type="button"
            >
              Delete
            </button>
          </td>
        </tr>
        }
        @empty {
            <li>There are no records.</li>
        }
        
        
      </tbody>
    </table>

    <!-- Table end -->
  </div>
</main>


